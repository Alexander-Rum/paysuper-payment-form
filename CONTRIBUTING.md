# Contributing

## Разработка

При разработке нужно учитывать несколько нюансов:
1. У формы два вида: страничный адаптивный вид и вид модального окна.
Страничный вид, за счет свой адаптивности, может использоваться на любых по размерам устройствах. Его отображение меняется на мобильное при размерах экрана менее чем 640px на 510px.
Страничный вид, в отличие от вида модального окна, предполагается без возожности закрытия формы.
Модальное окно имеет фиксированные размеры 640px на 510px. При размерах страницы менее этих параметров, форма автоматически переходит в страничный вид. Однако возможность закрытия формы (которая изначально имела вид модального окна) должна оставаться, и отображаться в UI.
2. Так как форма обязана быть адаптивной, то ничего внутри формы не должно вылезать за пределы экрана устройства.
3. Все внутренние скроллируемые элементы используют кастомный компонент UiScrollboxBar, основанный на vue-perfect-scrollbar.
4. Большая часть простых компонентов форм, таких как селекты, кнопки, всплывашки, инпуты уже реализованы и имеют префикс Ui. Если добавляется новый переиспользуемый компонент, наподобие прелоадера, переклюачлки и т.д., его стоит делать с таким же префиксом.
5. Все иконки имеют префикс Icon.
6. Для реализации событий кликов и свайпов используется библиотека vue2-touch-events (сейчас не всё перенесено, и возможно, на некоторых iOS'ах на какие-то элементы нужно тыкнуть два раза). Все новые клики, даблклики, свайпы и т.д. нужно делать через нее.
7. Для восполнения тач-лага на тач устройствах используется библиотека fastclick. С ней ничего делать не нужно, но учитывать в случае не предвиденных ошибок (так как библиотека еще не полностью протестировалась).
8. При реализации события нажатия на что-то вне нужного элемента используется библиотека vue-clickaway.
9. Форма мультиязычна, и при разработке стоит это учитыавть. Так же стоит учитывать, что у нас присутствуют два rtl языка, и на них обязательно нужно проверять полученный UI. Это касается отступов, направлений стрелочек, расположения элементов и так далее. В scss-миксинах есть миксины на этот счет. Они уже подключены и могут быть использованы в любом месте формы.
10. Стоит учитывать реалии кроссбраузерных решений: любые мелкие фиксы стилей или изменения в разметке могут привести к багам в iOS, IE11 или мобильном браузере (в основном тоже iOS). На этой стезе стоит в первую очередь обращать внимание на некоторые детали:
10.1. Правильно ли ваш код транспилируется (на js это может вылится в полностью не работающее состояние формы на некоторых устройствах, которые могу не поддержвать то или иное апи, например Array.includes)
10.2. Правильно ли ваш css код дополняется стилями для поддерживаемых браузеров (да, может не правильно дополняться. Чего-то может не быть, или свойства могут быть не верно расставлены между собой. В последнем случае нужно руками добавить нужное свойство после остальных аналогичных).
10.3. Аккуратней работайте с flex-box'ом, на iOS'ах свой flex-box, и ваш код не всегда будет правильно транспилится под них, а что-то и вовсе не получится. На IE11 так же есть баги у flex-box.
10.4. Не забываем о производительности наших решений. Это касается и уровня логики и уроня UI. Стараемся, чтобы браузер не делал лишней работы. Но не переусердствуем, ибо попытка под каждую анимацию создать новый слой через transform или иначе приведет к падению этой самой производительности.
10.5. Стоит учитывать, что минимальная ширина работы формы - 320px.


## Тестирование

Так как продукт предполагается кроссбраузерным, мы должны протестировать наш код на релевантных браузерах и устройствах.
Тестируем интерфейсы через browserstack.

Требования по кроссбраузрности:
1. IE11+
2. Chrome, Firefox, Safari (текущие версии)
3. Мобильные браузеры Chrome, Firefox, Safari
4. Экраны от 320px до 1920px

При тестировании стоит учитывать, что браузер на нужном устройстве может быть старой версии, и потому выдавать ту или иную багу. Старых устройств со свежими бразуерами не так много, как хотелось бы.
Так же, если есть на руках реальные устройства, то так же стоит потыкать форму на них.
Список устройств-браузеров, на которых стоит протестировать форму после внедрения какого-либо изменения UI:
1. iOS 13: iPhone XS, iPhone 11, iPad (Chrome, Safari актуальных версий)
2. iOS 12: iPhone XS, iPhone 11, iPhone 7, iPad (Chrome, Safari актуальных версий)
3. iOS 11: iPhone X, iPhone 8, iPhone 6, iPad (Chrome, Safari актуальных версий)
4. Android 6-9: Тут проще, нужно просто найти актуальные версии Chrome и Firefox для каждой из версий
5. Windows 8-10: IE11 и Chrome, Firefox, Opera, Safari, Edge актуальных версий
6. Mac последних трех-четырех версий: Chrome, Firefox, Opera, Safari актуальных версий
